{"ast":null,"code":"import _defineProperty from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Util from\"../components/util/Util\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.setParams=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value.trim()));};_this.login=function(){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({userName:_this.state.username,password:_this.state.password});var requestOptions={method:\"POST\",headers:myHeaders,body:raw,redirect:\"follow\"};fetch(Util.URL_REST+\"api/authenticate\",requestOptions).then(function(response){if(response.ok){return response.json();}throw Error(response.status);}).then(function(result){localStorage.setItem(\"token\",result.jwt);localStorage.setItem(\"userDetail\",JSON.stringify(result.userDetail));window.location.href=Util.URL+\"home\";}).catch(function(error){console.log(\"error\",error);Util.swal(\"\",\"UserName or Password are Wrong \",\"error\");});};_this.state={username:\"\",password:\"\"};//this.setParams = this.setParams.bind(this) ;\n_this.login=_this.login.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:/*#__PURE__*/_jsx(\"section\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-outline card-primary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header text-center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"../../index2.html\",className:\"h1\",children:/*#__PURE__*/_jsx(\"b\",{children:\"VISA-LOGIN..\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"login-box-msg\",children:\"Sign in to start your session\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"../../index3.html\",method:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.setParams,name:\"username\",type:\"text\",className:\"form-control\",placeholder:\"UserName\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-envelope\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.setParams,name:\"password\",type:\"password\",className:\"form-control\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-lock\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"social-auth-links text-center mt-2 mb-3\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"btn btn-block btn-primary\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",onClick:this.login,children:\"Sign In\"})})})]})]})})});}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["C:/Users/Admin/Documents/VISA/VISA/src/screen/Login.js"],"names":["React","Util","Login","props","setParams","event","setState","target","name","value","trim","login","myHeaders","Headers","append","raw","JSON","stringify","userName","state","username","password","requestOptions","method","headers","body","redirect","fetch","URL_REST","then","response","ok","json","Error","status","result","localStorage","setItem","jwt","userDetail","window","location","href","URL","catch","error","console","log","swal","bind","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Util from \"../components/util/Util\";\r\nexport default class Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n    //this.setParams = this.setParams.bind(this) ;\r\n    this.login = this.login.bind(this);\r\n  }\r\n\r\n  setParams = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value.trim() });\r\n  };\r\n\r\n  login = () => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var raw = JSON.stringify({\r\n      userName: this.state.username,\r\n      password: this.state.password,\r\n    });\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    fetch(Util.URL_REST + \"api/authenticate\", requestOptions)\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        throw Error(response.status);\r\n      })\r\n      .then((result) => {\r\n        localStorage.setItem(\"token\", result.jwt);\r\n        localStorage.setItem(\"userDetail\", JSON.stringify(result.userDetail));\r\n        window.location.href = Util.URL + \"home\";\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n        Util.swal(\"\", \"UserName or Password are Wrong \", \"error\");\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"content-wrapper\">\r\n        <section class=\"content\">\r\n          <div className=\"card card-outline card-primary\">\r\n            <div className=\"card-header text-center\">\r\n              <a href=\"../../index2.html\" className=\"h1\">\r\n                <b>VISA-LOGIN..</b>\r\n              </a>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <p className=\"login-box-msg\">Sign in to start your session</p>\r\n              <form action=\"../../index3.html\" method=\"post\">\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    onChange={this.setParams}\r\n                    name=\"username\"\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"UserName\"\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-envelope\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    onChange={this.setParams}\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-lock\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n              <div className=\"social-auth-links text-center mt-2 mb-3\">\r\n                <a href=\"#\" className=\"btn btn-block btn-primary\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-block\"\r\n                    onClick={this.login}\r\n                  >\r\n                    Sign In\r\n                  </button>\r\n                </a>\r\n              </div>\r\n              {/* /.social-auth-links */}\r\n            </div>\r\n            {/* /.card-body */}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}