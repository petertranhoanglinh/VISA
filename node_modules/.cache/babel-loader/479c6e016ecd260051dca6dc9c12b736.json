{"ast":null,"code":"import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport Util from \"./Util\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setParams = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    var userItem = localStorage.getItem('userItem');\n\n    if (userItem == null) {\n      this.state = {\n        text: '',\n        image: '',\n        showHide: false\n      };\n    } else {\n      this.state = {\n        text: '',\n        image: '',\n        showHide: false\n      };\n    }\n\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    if (localStorage.getItem('token') != null) {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userItem\");\n      localStorage.removeItem(\"photo\");\n      localStorage.removeItem(\"userDetail\");\n      window.location.href = Util.URL + \"login\";\n    }\n  }\n\n  componentDidMount() {\n    // getUserDetail\n    fetch(Util.URL_REST + \"api/getUserDetail\", {\n      method: \"GET\",\n      headers: Util.headersList\n    }).then(res => res.json()).then(json => {\n      if (Util.userDetail.role === 'ADMIN') {\n        this.setState({\n          showHide: true\n        });\n      }\n\n      this.setState({\n        image: Util.URL_REST + json.photo,\n        text: json.userName\n      });\n    }); // get count ordTmT\n\n    fetch(Util.URL_REST + \"api/order/countTmt\", {\n      method: \"GET\",\n      headers: Util.headersList\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n      this.setState({\n        count: json\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Admin/Documents/VISA/VISA/src/components/Header.js"],"names":["React","Link","Util","Header","Component","constructor","props","setParams","event","setState","target","name","value","userItem","localStorage","getItem","state","text","image","showHide","logout","bind","removeItem","window","location","href","URL","componentDidMount","fetch","URL_REST","method","headers","headersList","then","res","json","userDetail","role","photo","userName","console","log","count","render"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;AACA,eAAe,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAoC;AAE/CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAqBlBC,SArBkB,GAqBJC,KAAD,IAAU;AACnB,WAAKC,QAAL,CAAc;AAAC,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAsBH,KAAK,CAACE,MAAN,CAAaE;AAApC,OAAd;AAEH,KAxBiB;;AAEd,QAAIC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf;;AAEA,QAAGF,QAAQ,IAAI,IAAf,EAAoB;AAChB,WAAKG,KAAL,GAAa;AACTC,QAAAA,IAAI,EAAC,EADI;AAETC,QAAAA,KAAK,EAAC,EAFG;AAGTC,QAAAA,QAAQ,EAAC;AAHA,OAAb;AAKH,KAND,MAMK;AACD,WAAKH,KAAL,GAAa;AACTC,QAAAA,IAAI,EAAC,EADI;AAETC,QAAAA,KAAK,EAAC,EAFG;AAGTC,QAAAA,QAAQ,EAAC;AAHA,OAAb;AAKH;;AAED,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AAEH;;AAKDD,EAAAA,MAAM,GAAE;AACL,QAAGN,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,IAApC,EAAyC;AACxCD,MAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACAR,MAAAA,YAAY,CAACQ,UAAb,CAAwB,UAAxB;AACAR,MAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACAR,MAAAA,YAAY,CAACQ,UAAb,CAAwB,YAAxB;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBvB,IAAI,CAACwB,GAAL,GAAW,OAAlC;AACA;AACH;;AACDC,EAAAA,iBAAiB,GAAG;AAClB;AACEC,IAAAA,KAAK,CAAC1B,IAAI,CAAC2B,QAAL,GAAgB,mBAAjB,EAAsC;AACvCC,MAAAA,MAAM,EAAE,KAD+B;AAEvCC,MAAAA,OAAO,EAAE7B,IAAI,CAAC8B;AAFyB,KAAtC,CAAL,CAGGC,IAHH,CAGSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAHjB,EAIKF,IAJL,CAIWE,IAAD,IAAU;AACZ,UAAGjC,IAAI,CAACkC,UAAL,CAAgBC,IAAhB,KAAyB,OAA5B,EAAoC;AAClC,aAAK5B,QAAL,CAAc;AACZU,UAAAA,QAAQ,EAAC;AADG,SAAd;AAGD;;AACD,WAAKV,QAAL,CAAc;AACZS,QAAAA,KAAK,EAAEhB,IAAI,CAAC2B,QAAL,GAAgBM,IAAI,CAACG,KADhB;AAEZrB,QAAAA,IAAI,EAACkB,IAAI,CAACI;AAFE,OAAd;AAIP,KAdD,EAFgB,CAiBhB;;AACEX,IAAAA,KAAK,CAAC1B,IAAI,CAAC2B,QAAL,GAAgB,oBAAjB,EAAuC;AAC1CC,MAAAA,MAAM,EAAE,KADkC;AAE1CC,MAAAA,OAAO,EAAE7B,IAAI,CAAC8B;AAF4B,KAAvC,CAAL,CAGGC,IAHH,CAGSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAHjB,EAIGF,IAJH,CAISE,IAAD,IAAU;AACZK,MAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,WAAK1B,QAAL,CAAc;AACZiC,QAAAA,KAAK,EAAEP;AADK,OAAd;AAGH,KATH;AAUJ;;AACFQ,EAAAA,MAAM,GAAE;AAEJ,wBACI,qCADJ;AAKH;;AAxE8C","sourcesContent":["import React from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport Util from \"./Util\";\r\nexport default class Header extends React.Component{\r\n \r\n    constructor(props){\r\n        super(props)\r\n        var userItem = localStorage.getItem('userItem');\r\n        \r\n        if(userItem == null){\r\n            this.state = {\r\n                text:'',\r\n                image:'',\r\n                showHide:false\r\n            } \r\n        }else{\r\n            this.state = {\r\n                text:'',\r\n                image:'',\r\n                showHide:false\r\n            } \r\n        }\r\n        \r\n        this.logout = this.logout.bind(this) ;\r\n      \r\n    }\r\n    setParams  = (event) =>{\r\n        this.setState({[event.target.name] : event.target.value})\r\n\r\n    }\r\n    logout(){\r\n       if(localStorage.getItem('token') != null){\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"userItem\");\r\n        localStorage.removeItem(\"photo\");\r\n        localStorage.removeItem(\"userDetail\");\r\n        window.location.href = Util.URL + \"login\";\r\n       }\r\n    }\r\n    componentDidMount() {\r\n      // getUserDetail\r\n        fetch(Util.URL_REST + \"api/getUserDetail\", {\r\n            method: \"GET\",\r\n            headers: Util.headersList\r\n        }).then((res) => res.json())\r\n            .then((json) => {\r\n                if(Util.userDetail.role === 'ADMIN'){\r\n                  this.setState({\r\n                    showHide:true\r\n                  })\r\n                }\r\n                this.setState({\r\n                  image: Util.URL_REST + json.photo,\r\n                  text:json.userName\r\n                });\r\n        })\r\n        // get count ordTmT\r\n          fetch(Util.URL_REST + \"api/order/countTmt\" ,{\r\n            method: \"GET\",\r\n            headers: Util.headersList\r\n          }).then((res) => res.json())\r\n            .then((json) => {\r\n                console.log(json);\r\n                this.setState({\r\n                  count: json,\r\n                });\r\n            })\r\n     }\r\n    render(){\r\n      \r\n        return (\r\n            <>\r\n              \r\n            </>\r\n          );\r\n    }\r\n}   \r\n"]},"metadata":{},"sourceType":"module"}