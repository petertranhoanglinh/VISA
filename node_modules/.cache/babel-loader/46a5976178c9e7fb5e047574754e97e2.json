{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Admin/Documents/VISA/VISA/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\Documents\\\\VISA\\\\VISA\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import Util from\"../util/Util\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function MemEdit(){var _useParams=useParams(),userId=_useParams.userId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),mobile=_useState4[0],setMobile=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),address=_useState8[0],setAddress=_useState8[1];var _useState9=useState({cons:{}}),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];useEffect(function(){var getCons=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getData();case 1:case\"end\":return _context.stop();}}},_callee);}));return function getCons(){return _ref.apply(this,arguments);};}();getCons();},[]);var handleInput=function handleInput(){var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({name:name,mobile:mobile,email:email,address:address,id:data.cons.id});var requestOptions={method:\"POST\",headers:Util.headersList,body:raw,redirect:\"follow\"};fetch(Util.URL_REST+\"api/consumer/save\",requestOptions).then(function(response){console.log(response);if(response.ok){return response.json();}throw Error(response.status);}).then(function(result){if(result.status===\"0001\"){// eslint-disable-next-line no-unused-expressions\nUtil.swal(\"\",result.returnMessage,\"success\").then(function(){window.location.href=Util.URL+\"memsearch\";});}else{Util.swal(\"\",result.returnMessage,\"error\");}}).catch(function(error){Util.swal(\"\",\"Please login again\",\"error\");});};function getData(){fetch(\"\".concat(Util.URL_REST,\"api/consumer/all/\").concat(userId,\"/1\"),{method:\"GET\",headers:Util.headersList}).then(function(res){return res.json();}).then(function(json){setData({cons:json[0]});setName(json[0].name);setEmail(json[0].email);setMobile(json[0].mobile);setAddress(json[0].address);});}return/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:/*#__PURE__*/_jsx(\"section\",{class:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"card-title\",children:[\"Thay \\u0111\\u1ED5i th\\xF4ng tin th\\xE0nh vi\\xEAn \",data.cons.name]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEAn th\\xE0nh vi\\xEAn c\\u1EA7n thay \\u0111\\u1ED5i\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setName(e.target.value);},name:\"name\",type:\"text\",className:\"form-control my-colorpicker1 colorpicker-element\",value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\" \",/*#__PURE__*/_jsx(\"small\",{style:{color:\"red\"},children:\"(S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i kh\\xF4ng \\u0111\\u01B0\\u1EE3c tr\\xF9ng trong h\\u1EC7 th\\u1ED1ng)\"})]}),/*#__PURE__*/_jsx(\"input\",{name:\"mobile\",onChange:function onChange(e){return setMobile(e.target.value);},value:mobile,type:\"number\",className:\"form-control my-colorpicker1 colorpicker-element\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Thay \\u0111\\u1ED5i email:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group my-colorpicker2 colorpicker-element\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setEmail(e.target.value);},name:\"email\",type:\"email\",value:email,className:\"form-control\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bootstrap-timepicker\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Thay \\u0111\\u1ED5i \\u0111\\u1ECBa ch\\u1EC9:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group date\",children:/*#__PURE__*/_jsx(\"input\",{name:\"address\",onChange:function onChange(e){return setAddress(e.target.value);},value:address,type:\"text\",className:\"form-control datetimepicker-input\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return handleInput();},children:\"Thay \\u0111\\u1ED5i\"})})]})]})})})});}export default MemEdit;","map":{"version":3,"sources":["C:/Users/Admin/Documents/VISA/VISA/src/components/member/MemEdit.js"],"names":["React","useState","useEffect","useParams","Util","MemEdit","userId","name","setName","mobile","setMobile","email","setEmail","address","setAddress","cons","data","setData","getCons","getData","handleInput","myHeaders","Headers","append","raw","JSON","stringify","id","requestOptions","method","headers","headersList","body","redirect","fetch","URL_REST","then","response","console","log","ok","json","Error","status","result","swal","returnMessage","window","location","href","URL","catch","error","res","e","target","value","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Util from \"../util/Util\";\r\nfunction MemEdit() {\r\n  let { userId } = useParams();\r\n  const [name, setName] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [data, setData] = useState({ cons: {} });\r\n  useEffect(() => {\r\n    const getCons = async () => {\r\n      getData();\r\n    };\r\n    getCons();\r\n  }, []);\r\n  const handleInput = () => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    var raw = JSON.stringify({\r\n      name: name,\r\n      mobile: mobile,\r\n      email: email,\r\n      address: address,\r\n      id:data.cons.id\r\n    });\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: Util.headersList,\r\n      body: raw,\r\n      redirect: \"follow\",\r\n    };\r\n    fetch(Util.URL_REST + \"api/consumer/save\", requestOptions)\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.ok) {\r\n          return response.json();\r\n        }\r\n        throw Error(response.status);\r\n      })\r\n      .then((result) => {\r\n        if (result.status === \"0001\") {\r\n          // eslint-disable-next-line no-unused-expressions\r\n          Util.swal(\"\", result.returnMessage, \"success\").then (function() {\r\n            window.location.href = Util.URL + \"memsearch\";\r\n          });\r\n    \r\n        } else {\r\n          Util.swal(\"\", result.returnMessage, \"error\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        Util.swal(\"\", \"Please login again\", \"error\");\r\n      });\r\n  };\r\n  function getData() {\r\n    fetch(`${Util.URL_REST}api/consumer/all/${userId}/1`, {\r\n      method: \"GET\",\r\n      headers: Util.headersList,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setData({ cons: json[0] });\r\n        setName(json[0].name);\r\n        setEmail(json[0].email);\r\n        setMobile(json[0].mobile);\r\n        setAddress(json[0].address);\r\n      });\r\n  }\r\n  return (\r\n    <div className=\"content-wrapper\">\r\n      <section class=\"content\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"card card-info\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">\r\n                Thay đổi thông tin thành viên {data.cons.name}\r\n              </h3>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              {/* Color Picker */}\r\n              <div className=\"form-group\">\r\n                <label>Tên thành viên cần thay đổi</label>\r\n                <input\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  className=\"form-control my-colorpicker1 colorpicker-element\"\r\n                  value={name}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  Số điện thoại{\" \"}\r\n                  <small style={{ color: \"red\" }}>\r\n                    (Số điện thoại không được trùng trong hệ thống)\r\n                  </small>\r\n                </label>\r\n                <input\r\n                  name=\"mobile\"\r\n                  onChange={(e) => setMobile(e.target.value)}\r\n                  value={mobile}\r\n                  type=\"number\"\r\n                  className=\"form-control my-colorpicker1 colorpicker-element\"\r\n                />\r\n              </div>\r\n              {/* /.form group */}\r\n              {/* Color Picker */}\r\n              <div className=\"form-group\">\r\n                <label>Thay đổi email:</label>\r\n                <div className=\"input-group my-colorpicker2 colorpicker-element\">\r\n                  <input\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    value={email}\r\n                    className=\"form-control\"\r\n                  />\r\n                </div>\r\n                {/* /.input group */}\r\n              </div>\r\n              {/* /.form group */}\r\n              {/* time Picker */}\r\n              <div className=\"bootstrap-timepicker\">\r\n                <div className=\"form-group\">\r\n                  <label>Thay đổi địa chỉ:</label>\r\n                  <div className=\"input-group date\">\r\n                    <input\r\n                      name=\"address\"\r\n                      onChange={(e) => setAddress(e.target.value)}\r\n                      value={address}\r\n                      type=\"text\"\r\n                      className=\"form-control datetimepicker-input\"\r\n                    />\r\n                    {/* <div className=\"input-group-append\" data-target=\"#timepicker\" data-toggle=\"datetimepicker\">\r\n                  <div className=\"input-group-text\"><i className=\"far fa-clock\" /></div>\r\n                </div> */}\r\n                  </div>\r\n                  {/* /.input group */}\r\n                </div>\r\n                {/* /.form group */}\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <button type=\"button\" className=\"btn btn-primary\"\r\n                onClick={() => handleInput()}>\r\n                  Thay đổi\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* /.card-body */}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\nexport default MemEdit;\r\n"]},"metadata":{},"sourceType":"module"}